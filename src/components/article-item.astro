---
import { localizePath } from 'astro-i18next'
import type { CollectionEntry } from 'astro:content'
import i18next from 'i18next'

import { dateFormat } from '@/lib/utils/date-format'

interface Props {
	posts: CollectionEntry<'blog'>[]
}

const { posts } = Astro.props
---

{
	posts.length !== 0 ? (
		posts.map((post) => {
			const { title, date, desc } = post.data
			return (
				<article>
					<a href={localizePath(`${post.slug}`)}>
						<h1 class="font-bold text-lg">{title}</h1>
					</a>
					<time class="text-slate-400 font-thin text-xs" datetime={dateFormat(date, i18next.language)}>
						{dateFormat(date, i18next.language)}
					</time>
					<p class="text-sm mt-2">{desc}</p>
				</article>
			)
		})
	) : (
		<span>write some post</span>
	)
}
